import{b as N,j as e,r as m,a as u,u as P,e as D,g as k,f as O,h as j,i as $,k as Y,l as L,p as G,m as H}from"./index-4Yt6pLjZ.js";import{N as Q,F as K}from"./FooterNav-BPqVhVtG.js";import{B as b,u as X,a as J}from"./useTheme-XHsCJqzA.js";import{F as W}from"./Footer-Cmo6YtZe.js";import{A as Z}from"./AddressFormModal-9qzjG-YI.js";import{I as x}from"./IconButton-D2COuTn_.js";import"./ButtonBase-BMyPlSzo.js";const ee="/Parakh_client/assets/empty.gif",se=()=>{const d=N();return e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("img",{src:ee,alt:"",className:"w-full md:w-[600px] lg:w-[550px]"}),e.jsx("h1",{className:"text-2xl md:text-3xl font-Cursive font-bold text-[#f2707f]",children:"Oh no!"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-Poppins font-semibold",children:"Your cart is empty"}),e.jsx(b,{variant:"contained",size:"large",onClick:()=>d("/Parakh_client/all-products"),className:"button-shiny-effect",sx:{marginTop:3,borderRadius:10,fontFamily:"Poppins",textTransform:"capitalize",backgroundColor:"#f2707f",":hover":{backgroundColor:"#F7475C"},position:"relative",overflow:"hidden"},children:"Continue Shopping"})]})})};var S="https://sdk.cashfree.com/js/v3/cashfree.js",te=/^https:\/\/sdk\.cashfree\.com\/js\/v3\/?(\?.*)?$/,y="load was called but an existing Cashfree.js script already exists in the document; existing script parameters will be used",ae=function(){for(var a=document.querySelectorAll('script[src^="'.concat(S,'"]')),t=0;t<a.length;t++){var i=a[t];if(te.test(i.src))return i}return null},ie=function(a){var t="",i=document.createElement("script");i.src="".concat(S).concat(t);var l=document.head||document.body;if(!l)throw new Error("Expected document.body not to be null. Cashfree.js requires a <body> element.");return l.appendChild(i),i},p=null,ne=function(a){return p!==null||(p=new Promise(function(t,i){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Cashfree&&a&&console.warn(y),window.Cashfree){t(window.Cashfree);return}try{var l=ae();l&&a?console.warn(y):l||(l=ie(a)),l.addEventListener("load",function(){window.Cashfree?t(window.Cashfree):i(new Error("Cashfree.js not available"))}),l.addEventListener("error",function(){i(new Error("Failed to load Cashfree.js"))})}catch(c){i(c);return}})),p},le=function(a,t,i){if(a===null)return null;var l=a.apply(void 0,t);return l},A=Promise.resolve().then(function(){return ne(null)}),F=!1;A.catch(function(d){F||console.warn(d)});var re=async function(){for(var a=arguments.length,t=new Array(a),i=0;i<a;i++)t[i]=arguments[i];F=!0;const l=await A;return le(l,t)};let C;const de=({cart:d,billDetails:a})=>{const[t,i]=m.useState(!1),[l,c]=m.useState(!1),[f,r]=m.useState(0),{addresses:h}=u(s=>s.address),E=N(),o=P(),_=s=>{o(D(s)).then(()=>{o(k())}).catch(n=>console.log(n))},I=s=>{r(s)},g=()=>{i(!t)},T=()=>{c(!0)},z=()=>{c(!1)},R=s=>{o(O(s)).then(()=>{o(j())}).catch(n=>{console.log(n)})},B=s=>{o($(s)).then(()=>{o(j())}).catch(n=>{console.log(n)})},M=s=>{o(Y(s)).then(()=>{o(j())}).catch(n=>{console.log(n)})};m.useEffect(()=>{(async()=>{C=await re({mode:"sandbox"})})()},[]);const V=async s=>{s.preventDefault();try{const n=await o(L()).unwrap(),q={paymentSessionId:n.payment_session_id,redirectTarget:"_modal"};await C.checkout(q),console.log("Payment Initiated");const w=await o(G(n.order_id)).unwrap();w.payment_status==="SUCCESS"?(await o(H()),E("/Parakh_client/thankyou"),console.log("Payment Completed")):console.log("Payment verification failed:",w)}catch(n){console.log(n)}},U=X(),v=J(U.breakpoints.down("sm"));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-5 pb-10",children:e.jsxs("div",{className:"md:mx-20 p-5 md:p-10 bg-white rounded-2xl drop-shadow-xl",children:[e.jsx("div",{className:"flex justify-start text-left",children:e.jsx("div",{className:"pb-3 border-b-2 w-full",children:e.jsx("h1",{className:"text-xl md:text-3xl font-Poppins font-semibold",children:"Your Cart"})})}),e.jsx("div",{className:"my-5 md:my-10",children:d.map((s,n)=>e.jsxs("div",{className:"flex gap-5 py-5",children:[e.jsx("div",{className:"w-36 flex justify-center items-center rounded-2xl bg-gradient-to-b from-[#ffdde1] to-[#ee9ca7]",children:e.jsx("img",{src:s.product.image,alt:"",className:"w-20 md:w-24 mix-blend-multiply"})}),e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-sm md:text-lg font-Poppins font-medium",children:s.product.name}),e.jsxs("h1",{className:"text-[10px] md:text-[12px] font-Poppins font-medium capitalize",children:[s.product.variant.color,",",s.product.variant.material]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("h1",{className:"text-sm md:text-lg font-Poppins font-semibold md:mt-2",children:["₹",s.totalPrice,s.totalDiscount?e.jsxs("span",{className:"pl-2 line-through text-slate-600 text-[12px]",children:["₹",s.totalDiscount]}):""]}),e.jsx("div",{className:"",children:e.jsx(x,{onClick:()=>{B(s.product._id)},children:e.jsx("i",{className:"fi fi-rs-trash text-xl pt-1 px-2 hover:text-[#f2707f]"})})})]})]}),e.jsx("div",{className:"",children:e.jsxs("div",{className:" flex items-center justify-between w-1/2 md:w-32 rounded-md border-2",children:[e.jsx("i",{className:"fi fi-rr-minus-small pt-1 pl-2 cursor-pointer",onClick:()=>{R(s.product._id)}}),e.jsx("h1",{className:"text-sm font-Poppins font-medium",children:s.quantity}),e.jsx("i",{className:"fi fi-rr-plus-small pt-1 pr-2 cursor-pointer",onClick:()=>{M(s.product._id)}})]})})]})]},n))})]})}),e.jsx("div",{className:"px-5",id:"detailedBill",children:e.jsxs("div",{className:"md:mx-20 p-5 md:p-10 bg-white rounded-2xl drop-shadow-xl",children:[e.jsx("div",{className:"flex justify-start text-left",children:e.jsx("div",{className:"pb-3 border-b-2 w-full",children:e.jsx("h1",{className:"text-xl md:text-3xl font-Poppins font-semibold",children:"Bill Details"})})}),e.jsxs("div",{children:[e.jsxs("div",{className:"py-3 border-b-[1px] md:border-b-2 border-dashed",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"text-sm md:text-md font-Poppins",children:"Cart total"}),e.jsxs("h1",{className:"text-sm md:text-md font-Poppins font-medium",children:["₹",a.cartTotal]})]}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("h1",{className:"text-sm md:text-md font-Poppins",children:"Discount"}),e.jsxs("h1",{className:"text-sm md:text-md font-Poppins font-medium",children:["₹",a.discount]})]})]}),e.jsx("div",{className:"py-3 border-b-[1px] md:border-b-2 border-dashed",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"text-sm md:text-md font-Poppins",children:"Subtotal"}),e.jsxs("h1",{className:"text-sm md:text-md font-Poppins font-medium",children:["₹",a.subTotal]})]})}),e.jsx("div",{className:"pt-5 pb-10 border-b-[1px] md:border-b-2 border-dashed",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"text-sm md:text-md font-Poppins",children:"Delivery Fee"}),e.jsxs("h1",{className:"text-sm md:text-md font-Poppins font-medium",children:["₹",a.delivery]})]})}),e.jsx("div",{className:"pt-3",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"text-md md:text-lg font-Poppins font-semibold",children:"To Pay"}),e.jsxs("h1",{className:"text-md md:text-lg font-Poppins font-bold",children:["₹",a.toPay]})]})})]})]})}),e.jsx("div",{className:"px-5 py-10",children:e.jsxs("div",{className:"md:mx-20 p-5 md:p-10 bg-white rounded-2xl drop-shadow-xl",children:[e.jsx("div",{className:"flex justify-start text-left",children:e.jsx("div",{className:"pb-3 w-full",children:e.jsx("h1",{className:"md:text-xl font-Poppins font-semibold",children:"Cancellation Policy"})})}),e.jsx("div",{children:e.jsxs("ul",{children:[e.jsxs("li",{className:"flex gap-3 items-center leading-loose",children:[e.jsx("i",{className:"fi fi-ts-feather-pointed pt-1 text-[#f2707f]"}),e.jsx("h1",{className:"text-[12px] md:text-base font-Poppins",children:"Full refund if order is cancelled before confirmation"})]}),e.jsxs("li",{className:"flex gap-3 items-center leading-loose",children:[e.jsx("i",{className:"fi fi-ts-feather-pointed pt-1 text-[#f2707f]"}),e.jsx("h1",{className:"text-[12px] md:text-base font-Poppins",children:"No refund if the order is already accepted or dispatched"})]}),e.jsxs("li",{className:"flex gap-3 items-center leading-loose",children:[e.jsx("i",{className:"fi fi-ts-feather-pointed pt-1 text-[#f2707f]"}),e.jsx("h1",{className:"text-[12px] md:text-base font-Poppins",children:"For any queries on cancellation, please contact us"})]})]})})]})}),e.jsx("div",{className:"px-5 pb-10",children:e.jsxs("div",{className:"md:mx-20 p-5 md:p-10 bg-white rounded-2xl drop-shadow-xl",children:[e.jsx("div",{className:"flex justify-start text-left",children:e.jsxs("div",{className:"pb-3 w-full flex items-center justify-between",children:[e.jsx("h1",{className:"md:text-xl font-Poppins font-semibold",children:"Select Your Address"}),h.length>1&&e.jsx(x,{onClick:g,children:e.jsx("i",{className:`fi fi-rr-caret-${t?"up":"down"} text-base md:text-2xl px-2 pt-1 text-[#f2707f]`})})]})}),e.jsx("div",{className:"pb-5 border-b-[1px] md:border-b-2 border-dashed",children:e.jsxs("div",{children:[h.map((s,n)=>e.jsxs("div",{className:`flex justify-between items-center ${n!==f&&!t?"hidden":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx("input",{type:"radio",name:"address",className:"custom-radio flex-shrink-0",checked:n===f,onChange:()=>I(n),onClick:g}),e.jsxs("h1",{className:"text-[12px] md:text-base font-Poppins overflow-hidden text-ellipsis whitespace-nowrap",children:[s.name,", ",s.completeAddress,","," ",s.pincode,", ",s.city,", ",s.state]})]}),e.jsxs("div",{className:"flex",children:[e.jsx(x,{children:e.jsx("i",{className:"fi fi-rr-edit text-base px-2 pt-1 hover:text-[#f2707f]"})}),e.jsx(x,{onClick:()=>{_(s._id)},children:e.jsx("i",{className:"fi fi-rs-trash text-base px-2 pt-1 hover:text-[#f2707f]"})})]})]},n)),e.jsxs("div",{className:"flex items-center cursor-pointer",children:[e.jsx(x,{onClick:T,children:e.jsx("i",{className:"fi fi-rr-square-plus text-base px-2 pt-1 text-[#f2707f]"})}),e.jsx("h1",{className:"text-sm md:text-base text-[#f2707f] font-Poppins font-medium underline underline-offset-4 decoration-dashed",children:"Add new address"})]})]})}),e.jsxs("div",{className:"mt-10 flex justify-between items-center",children:[e.jsxs("div",{className:"",children:[e.jsxs("h1",{className:"text-lg md:text-2xl font-Poppins font-bold",children:["₹",a.toPay]}),e.jsx("a",{href:"#detailedBill",children:e.jsx("h1",{className:"text-[10px] md:text-sm font-Poppins text-[#f2707f] cursor-pointer",children:"View Detailed Bill"})})]}),e.jsx("div",{children:e.jsx(b,{variant:"contained",size:"large",type:"submit",onClick:V,className:"button-shiny-effect",sx:{borderRadius:v?"5px":"10px",fontFamily:"Poppins",textTransform:"capitalize",backgroundColor:"#f2707f",fontSize:v?"12px":"16px",padding:v?"8px 16px":"12px 24px",":hover":{backgroundColor:"#F7475C"}},children:"Proceed to payment"})})]})]})}),e.jsx(Z,{isVisible:l,onClose:z})]})},ue=()=>{const d=P(),a=N(),{cart:t,billDetails:i}=u(r=>r.cart),{products:l}=u(r=>r.products),c=u(r=>r.address.addresses);m.useEffect(()=>{window.scrollTo(0,0),(!c||c.length===0)&&d(k()),(!t||t.length===0)&&d(j())},[d,t,c]);const f=r=>{console.log(r)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed top-0 right-0 left-0 z-10",children:e.jsx(Q,{cart:t})}),e.jsxs("div",{className:`pt-20 ${t.length===0?"bg-white":"bg-[#f4f4f4]"}`,children:[t.length===0?e.jsx(se,{cart:t}):e.jsx(de,{cart:t,products:l,billDetails:i}),e.jsxs("div",{children:[e.jsx("div",{className:" mt-10 flex justify-center text-center",children:e.jsxs("div",{className:"p-5",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-Cursive font-bold text-[#f2707f]",children:"More to explore"}),e.jsx("h1",{className:"text-2xl md:text-3xl font-Poppins font-medium",children:"You may also like"})]})}),e.jsx("div",{className:"flex gap-5 md:gap-10 overflow-x-auto py-10 px-5 lg:px-20 hide-scrollbar z-0",children:l.slice(0,5).map((r,h)=>e.jsxs("div",{className:"flex-shrink-0 drop-shadow-xl cursor-pointer",children:[e.jsxs("div",{className:"relative w-48 h-48 md:w-60 md:h-60 flex justify-center items-center bg-gradient-to-b from-[#ffdde1] to-[#ee9ca7] overflow-hidden group",children:[e.jsx("img",{src:r.image,alt:"",className:"w-44 md:w-44 transition ease-in-out duration-700 group-hover:scale-110 md:group-hover:scale-150 mix-blend-darken"}),e.jsxs("div",{className:"w-full bg-[#ee9ca7] absolute bottom-0 py-2 flex justify-center gap-10 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:[e.jsx(x,{children:e.jsx("i",{className:"fi fi-sr-shopping-cart-add text-white text-xl pt-1 px-2 rounded-full"})}),e.jsx(x,{onClick:()=>f(r.id),children:e.jsx("i",{className:`fi fi-sr-heart  text-xl pt-1 px-2 rounded-full ${r.wishlist?"text-[#FF0000]":"text-white"}`})})]})]}),e.jsxs("div",{className:"p-2 text-center",children:[e.jsx("h1",{className:"text-md lg:text-md font-Poppins font-semibold",children:r.name}),e.jsxs("h1",{className:"text-sm lg:text-md font-Poppins font-medium",children:["₹",r.price,r.discount?e.jsxs("span",{className:"pl-2 line-through text-slate-600 text-[12px]",children:["₹",r.discount]}):""]})]})]},h))}),e.jsx("div",{className:"text-center pb-20",children:e.jsx(b,{variant:"contained",size:"large",type:"submit",className:"button-shiny-effect",onClick:()=>{a("/Parakh_client/all-products")},sx:{borderRadius:10,fontFamily:"Poppins",textTransform:"capitalize",backgroundColor:"#f2707f",":hover":{backgroundColor:"#F7475C"}},children:"View All"})})]}),e.jsx(W,{}),e.jsx("div",{className:"fixed bottom-0 right-0 left-0 lg:hidden drop-shadow-[0_15px_40px_rgba(0,0,0,0.25)]",children:e.jsx(K,{cart:t})})]})]})};export{ue as default};
